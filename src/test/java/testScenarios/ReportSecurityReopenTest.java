package testScenarios;

import org.testng.annotations.Test;

import pageobjects.ReportSecurityAwaitingChange_Page;
import pageobjects.ReportSecurityReopen_Page;
import util.base;

public class ReportSecurityReopenTest extends base {
	public ReportSecurityReopen_Page RSS;
	
	@Test
	public void reopenAwaitingUserInfo() throws Throwable{
		ReportSecurityPortalViewTest portal=new ReportSecurityPortalViewTest();
		portal.requestCreation();
		RSS = new ReportSecurityReopen_Page(driver);
		RSS.EditIssue().click();
		RSS.Subcategory("Network/Hardware Issues");
		//Thread.sleep(10000);
		RSS.AssignmentGroup("TestAssignmentGroupJira");
		RSS.SubmitButton().click();
		
		//AwaitingUserInfo_ReopenTicket
		RSS.AssignToMe().click();
		RSS.WorkFlow().click();
		RSS.AwaitingUserInfo().click();
		RSS.switchToFrameByTagName();
		RSS.Comment().sendKeys("AwaitingUserInfo");
		RSS.switchToDefaultFrame();
		RSS.SubmitForPopup().click();
		
		RSS.Resolve().click();
		RSS.ResolveSubcategory("Data Correctness Issue");
		RSS.CloseCode("Repeated");
		RSS.CloseNotes().sendKeys("Resolved");
		RSS.switchToFrameByTagName();
		RSS.Comment().click();
		RSS.Comment().sendKeys("Resolved Ticket");
		RSS.switchToDefaultFrame();
		RSS.SubmitForPopup().click();
		
		RSS.ReOpenButton().click();
		RSS.switchToFrameByTagName();
		RSS.Comment().sendKeys("Reopen Ticket");
		RSS.switchToDefaultFrame();
		RSS.SubmitForPopup().click();
		
		RSS.CloseButton().click();
		RSS.VerfiedByCustomer().click();
		RSS.switchToFrameByTagName();
		RSS.Comment().click();
		RSS.Comment().sendKeys("Closed Ticket compeletly");
		RSS.switchToDefaultFrame();
		RSS.SubmitForPopup().click();
		
	}

}
